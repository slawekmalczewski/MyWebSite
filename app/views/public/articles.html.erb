<% title "My Posts |" %>

<div class="container">

  <div class="row pt-5 justify-content-center">
    <% @post.each do |p| %>
      <div class="col-sm-10 col-md-8">
          <div class="card">
            <div class="datecircle">
              <div class="day"><%= p.created_at.day %></div>
              <div class="month"><%= p.created_at.strftime('%b') %></div>
            </div>
            <div class="img-card">
              <%= image_tag(p.postHeaderPhoto, :class=>"img-responsive") %>
              <div class="category text-center">
                <%= p.post_category.postcategoryname %>
              </div>
            </div>

            <br/>
            <div class="card-content">
              <h4 class="card-title">
                <%= p.Post_Title %>
              </h4>
              <div class="">
                <%= article_preview(p.Post_Body) %>
              </div>
            </div>
            <div class="card-read-more">
              <div class="post-meta">
                <i class="fa fa-pencil"></i> <%= p.Post_Author %>
                <br/>
                <i class="fa fa-calendar"></i> <%= local_time(p.created_at, '%d %B %Y, %A @ %H:%M') %>
              </div>
              <%= link_to 'Read <i class="glyphicon glyphicon-chevron-right"></i><i class="glyphicon glyphicon-chevron-right"></i>'.html_safe, {:controller => 'public', :action => 'articleView', :id => p.id}, :class => "btn btn-success btn-md pull-right p-3 m-3" %>
            </div>
          </div>
      </div>
    <% end %>
  </div>

  <!-- Here is pagination using will_paginate gem -->
  <div class="row">
    <div class="col-sm-12 col-md-12 d-flex justify-content-center">
      <%= will_paginate @post, renderer: BootstrapPagination::Rails, :class => "font-weight-bold" %>
    </div>
  </div>

</div>
